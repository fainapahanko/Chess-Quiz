<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Anton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="js/quiz_data.js"></script>
    <title>Document</title>
</head>
<body>
    <!-- 
        // сделать хтмл на один вопрос 
        // установить тру или фолс на один и ответов 
        // сделать логику ==> 
                если тру ==> каунтер правильных ответов +1 
                если фолс ==> показать правильный ответ ==> перевернуть квиз 
        // после пять ответов показать результат 
    -->
    <h1>Chess Quiz!</h1>

    <div id="quizField">

        <p id="counterText">Number of <br> correct answers <br> <span id="counter"></span> </p>
        
        <div class="question"></div>

        <input type="radio" name="a" value="0" class="checks"><span class="answers"></span> <br>
        <input type="radio" name="a" value="0" class="checks"><span class="answers"></span> 
        <br>
        <input type="radio" name="a" value="1" class="checks"><span class="answers"></span>
        
        <div id="after"></div>
    
    </div>

    <script>
        
        var p = document.createElement("p")
        p.className = "result"
        var div = document.querySelector("#after")
        div.appendChild(p)

        document.querySelector("#quizField").onclick = function(event){
            var target = event.target
            var count = document.querySelector("#counter")
            var counter = count.innerText
            if(target.value == "1" && parseInt(counter) < 1){
                p.innerText = "You right! Another question?"
                var button = document.createElement("button")
                button.innerText = "Click"
                button.className = "resultButton"
                div.appendChild(button)
                count.innerText = parseInt(counter) + 1
                button.onclick = function(){
                    p.style.visibility = "hidden"
                    button.style.visibility = "hidden"
                    document.querySelector(".question").innerHTML = "2) The longest chess game"
                    var answers = ["4 hours 15 minuts", "20 hours 15 minuts", "8 hours"]
                    var inputs = document.querySelectorAll(".checks")
                    inputs[0].value = "0"
                    inputs[1].value = "1"
                    inputs[2].value = "0"
                    var spanAnswers = document.querySelectorAll(".answers")
                    for(var i = 0; i < answers.length; i ++){
                        spanAnswers[i].innerHTML = answers[i]
                    }
                    document.querySelector("#quizField").onclick = function(event){
                        var target = event.target
                        var count = document.querySelector("#counter")
                        var counter = count.innerText
                        if(target.value == "1" && parseInt(counter) < 2){
                            p.style.visibility = "visible"
                            button.style.visibility = "hidden"
                            p.innerText = "You right! See you soon :) "
                            count.innerText = parseInt(counter) + 1
                        } else if (target.value == "0" && parseInt(counter) < 2){
                            p.style.visibility = "visible"
                            button.style.visibility = "hidden"
                            p.innerText = "You wrong!"
                        }
                    }
                }
            } else if (target.value == "0" && parseInt(counter) < 1){
                p.innerText = "You wrong! Try one more time!"
            }
        }

        window.onload = function(){
            var span = document.querySelector("#counter")
            var counter = 0
            span.innerText = counter

            function showQuestion() {
                // показываем вопросы
                document.querySelector(".question").innerHTML = "1) who was Boris Spassky's opponent for the chess crown in Iceland"
                // showing the answers
                var answers = ["Garry Kasparov", "Vladimir Kramnik", "Bobby Fisher"]
                var spanAnswers = document.querySelectorAll(".answers")
                for(var i = 0; i < answers.length; i ++){
                    spanAnswers[i].innerHTML = answers[i]
                }
            }

            showQuestion()
        }
    </script>

</body>
</html>